<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DGP Hube Navigation - Seiten 1-6 Analyse</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5;
        }
        .test-container { 
            background: white; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status-grid { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 15px; 
            margin: 20px 0;
        }
        .status-item { 
            padding: 15px; 
            background: #e3f2fd; 
            border-radius: 5px;
            text-align: center;
        }
        .status-item.error { 
            background: #ffebee; 
            color: #c62828;
        }
        .status-item.success { 
            background: #e8f5e8; 
            color: #2e7d32;
        }
        .navigation-test { 
            display: flex; 
            gap: 10px; 
            margin: 20px 0;
            align-items: center;
        }
        .nav-btn { 
            padding: 10px 20px; 
            background: #2196f3; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer;
        }
        .nav-btn:hover { 
            background: #1976d2; 
        }
        .nav-btn:disabled { 
            background: #ccc; 
            cursor: not-allowed;
        }
        .page-indicator { 
            font-size: 18px; 
            font-weight: bold; 
            color: #333;
        }
        .debug-info { 
            background: #f9f9f9; 
            padding: 15px; 
            border-radius: 5px; 
            font-family: monospace; 
            font-size: 12px; 
            margin: 20px 0;
        }
        .cube-test {
            width: 300px;
            height: 300px;
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            position: relative;
        }
        .page-info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>üîç DGP Hube Navigation - Systematische Analyse</h1>
    
    <div class="test-container">
        <h2>üìä Problem-Identifikation</h2>
        <p><strong>Aufgabe:</strong> Pfeilbuttons links und rechts sollen alle 6 Seiten anzeigen (Seite 1-3 ‚úì, Seite 4-6 ‚úó)</p>
        <p><strong>Erwartung:</strong> Vollst√§ndige Navigation durch alle 6 Seiten mit linear6-Modus</p>
    </div>

    <div class="test-container">
        <h2>üß™ Navigations-Test</h2>
        <div class="navigation-test">
            <button class="nav-btn" id="prevBtn">‚¨ÖÔ∏è Links</button>
            <div class="page-indicator" id="pageIndicator">Seite 1 von 6</div>
            <button class="nav-btn" id="nextBtn">Rechts ‚û°Ô∏è</button>
        </div>
        <div class="cube-test" id="testCube">
            <div class="page-info" id="pageInfo">Seite 1</div>
            <div>Test-W√ºrfel</div>
        </div>
        <div class="debug-info" id="debugInfo">
            <strong>Debug-Informationen:</strong><br>
            Aktueller Status wird hier angezeigt...
        </div>
    </div>

    <div class="test-container">
        <h2>üìà Seiten-Status-Grid</h2>
        <div class="status-grid" id="statusGrid">
            <!-- Dynamisch generiert -->
        </div>
    </div>

    <script>
        // Navigation-Test-System f√ºr DGP Hube
        class NavigationTest {
            constructor() {
                this.currentPage = 1;
                this.totalPages = 6;
                this.arrowMode = 'linear6';
                this.init();
            }

            init() {
                this.createStatusGrid();
                this.updateDisplay();
                this.bindEvents();
                this.logSystemState();
            }

            createStatusGrid() {
                const grid = document.getElementById('statusGrid');
                grid.innerHTML = '';
                
                for (let i = 1; i <= this.totalPages; i++) {
                    const item = document.createElement('div');
                    item.className = 'status-item';
                    item.id = `page-${i}`;
                    item.innerHTML = `
                        <div><strong>Seite ${i}</strong></div>
                        <div>Status: <span id="status-${i}">Unbekannt</span></div>
                    `;
                    grid.appendChild(item);
                }
            }

            bindEvents() {
                document.getElementById('prevBtn').addEventListener('click', () => {
                    this.navigateLeft();
                });
                
                document.getElementById('nextBtn').addEventListener('click', () => {
                    this.navigateRight();
                });
            }

            navigateLeft() {
                console.log('üîÑ Navigation nach links');
                
                if (this.currentPage > 1) {
                    this.currentPage--;
                } else {
                    // Im linear6-Modus sollte es einen Wrap-around geben
                    this.currentPage = this.totalPages;
                }
                
                this.updateDisplay();
                this.checkNavigationLogic();
            }

            navigateRight() {
                console.log('üîÑ Navigation nach rechts');
                
                if (this.currentPage < this.totalPages) {
                    this.currentPage++;
                } else {
                    // Im linear6-Modus sollte es einen Wrap-around geben
                    this.currentPage = 1;
                }
                
                this.updateDisplay();
                this.checkNavigationLogic();
            }

            updateDisplay() {
                // Update page indicator
                document.getElementById('pageIndicator').textContent = 
                    `Seite ${this.currentPage} von ${this.totalPages}`;
                
                // Update cube display
                document.getElementById('pageInfo').textContent = 
                    `Seite ${this.currentPage}`;
                
                // Update button states
                document.getElementById('prevBtn').disabled = false;
                document.getElementById('nextBtn').disabled = false;
                
                // Update status grid
                for (let i = 1; i <= this.totalPages; i++) {
                    const statusEl = document.getElementById(`status-${i}`);
                    const pageEl = document.getElementById(`page-${i}`);
                    
                    if (i === this.currentPage) {
                        statusEl.textContent = 'Aktiv';
                        pageEl.className = 'status-item success';
                    } else {
                        statusEl.textContent = 'Verf√ºgbar';
                        pageEl.className = 'status-item';
                    }
                }
            }

            checkNavigationLogic() {
                // Simuliere die linear6-Logik aus der DGP Hube
                const faceOrder = ['front', 'right', 'back', 'left', 'top', 'bottom'];
                const currentFace = faceOrder[this.currentPage - 1];
                
                // Berechne m√∂gliche Navigation-Targets
                const targets = this.getArrowTargets(currentFace);
                
                const debugInfo = `
                    <strong>Debug-Informationen:</strong><br>
                    Aktuelle Seite: ${this.currentPage}<br>
                    Aktueller Face: ${currentFace}<br>
                    Arrow Mode: ${this.arrowMode}<br>
                    Linke Navigation: ${targets.left || 'N/A'}<br>
                    Rechte Navigation: ${targets.right || 'N/A'}<br>
                    Navigation funktioniert: ${this.testNavigation() ? '‚úì' : '‚úó'}<br>
                    <br>
                    <strong>Problem-Analyse:</strong><br>
                    ${this.analyzeProblem()}
                `;
                
                document.getElementById('debugInfo').innerHTML = debugInfo;
            }

            getArrowTargets(currentFace) {
                // Vereinfachte Version der DGP Hube getArrowTargets-Funktion
                const faceOrder = ['front', 'right', 'back', 'left', 'top', 'bottom'];
                const faceIndex = faceOrder.indexOf(currentFace);
                
                return {
                    left: faceOrder[(faceIndex - 1 + 6) % 6],
                    right: faceOrder[(faceIndex + 1) % 6]
                };
            }

            testNavigation() {
                // Test ob alle 6 Seiten erreichbar sind
                const faceOrder = ['front', 'right', 'back', 'left', 'top', 'bottom'];
                let allAccessible = true;
                
                for (let i = 0; i < faceOrder.length; i++) {
                    const targets = this.getArrowTargets(faceOrder[i]);
                    if (!targets.left || !targets.right) {
                        allAccessible = false;
                        break;
                    }
                }
                
                return allAccessible;
            }

            analyzeProblem() {
                // Analysiere das Problem mit Seite 4-6
                const faceOrder = ['front', 'right', 'back', 'left', 'top', 'bottom'];
                const issueAnalysis = [];
                
                // Pr√ºfe ob top und bottom korrekt behandelt werden
                const topIndex = faceOrder.indexOf('top');
                const bottomIndex = faceOrder.indexOf('bottom');
                
                issueAnalysis.push(`Top-Index: ${topIndex} (Seite ${topIndex + 1})`);
                issueAnalysis.push(`Bottom-Index: ${bottomIndex} (Seite ${bottomIndex + 1})`);
                
                if (topIndex >= 3) {
                    issueAnalysis.push('‚úÖ Top-Seite ist in der "fehlenden" Range (Seite 4-6)');
                }
                if (bottomIndex >= 3) {
                    issueAnalysis.push('‚úÖ Bottom-Seite ist in der "fehlenden" Range (Seite 4-6)');
                }
                
                return issueAnalysis.join('<br>');
            }

            logSystemState() {
                console.log('üîç DGP Hube Navigation Test-System initialisiert');
                console.log('Face Order:', ['front', 'right', 'back', 'left', 'top', 'bottom']);
                console.log('Erwartung: Alle 6 Seiten sollten navigierbar sein');
            }
        }

        // Test starten
        const test = new NavigationTest();
        
        // Automatischer Test der Navigation nach 3 Sekunden
        setTimeout(() => {
            console.log('üß™ Automatischer Navigation-Test gestartet');
            test.navigateRight(); // Seite 2
            setTimeout(() => test.navigateRight(), 500); // Seite 3
            setTimeout(() => test.navigateRight(), 1000); // Seite 4
            setTimeout(() => test.navigateRight(), 1500); // Seite 5
            setTimeout(() => test.navigateRight(), 2000); // Seite 6
            setTimeout(() => test.navigateRight(), 2500); // Zur√ºck zu Seite 1
        }, 3000);
    </script>
</body>
</html>